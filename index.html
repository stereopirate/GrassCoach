<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Grass Coach - Strategy. Not Guesswork.</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root { --forest: #1B3022; --gold: #D4AF37; --turf: #F5F5F5; }
        body { background: var(--turf); font-family: sans-serif; -webkit-tap-highlight-color: transparent; }
        .coach-card { background: white; border-bottom: 4px solid var(--forest); border-radius: 1.25rem; }
        .btn-coach { background: var(--forest); color: var(--gold); font-weight: 800; text-transform: uppercase; }
        .nav-active { color: var(--gold); border-bottom: 2px solid var(--gold); }
        .progress-bar { height: 6px; border-radius: 3px; background: #e5e7eb; overflow: hidden; }
        .progress-fill { height: 100%; transition: width 0.5s ease-out; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const EQUIPMENT_LIBRARY = {
            mowers: [
                { id: 'w1', category: 'Walk-Behind', brand: 'Honda', name: 'HRX217VKA', interval: 50 },
                { id: 'z1', category: 'Zero-Turn', brand: 'Ariens', name: 'IKON XD 52', interval: 100 }
            ],
            spreaders: [
                { id: 's1', brand: 'Scotts', name: 'Elite Spreader', type: 'Broadcast', interval: 25 }
            ]
        };

        const LawnCareTracker = () => {
            // --- STATE ---
            const [view, setView] = useState('dashboard');
            const [equipment, setEquipment] = useState(() => JSON.parse(localStorage.getItem('gc_shed') || '[]'));
            const [activities, setActivities] = useState(() => JSON.parse(localStorage.getItem('gc_activities') || '[]'));
            const [lawnProfile, setLawnProfile] = useState(() => JSON.parse(localStorage.getItem('gc_profile') || '{"grassType":"Kentucky Bluegrass","size":"5000","ph":"6.5","lastSoilTest":"2026-01-01"}'));
            const [weather] = useState({ temp: 74, condition: 'Sunny', rainNext24: '0.0"', wind: '5mph' });

            useEffect(() => {
                localStorage.setItem('gc_shed', JSON.stringify(equipment));
                localStorage.setItem('gc_activities', JSON.stringify(activities));
                localStorage.setItem('gc_profile', JSON.stringify(lawnProfile));
            }, [equipment, activities, lawnProfile]);

            // --- COMPONENTS ---

            const WeatherModule = () => (
                <div className="bg-[#1B3022] rounded-3xl p-6 text-white mb-6 shadow-xl">
                    <div className="flex justify-between items-start mb-4">
                        <div>
                            <p className="text-[10px] font-black text-[#D4AF37] uppercase tracking-widest">Field Conditions</p>
                            <h3 className="text-3xl font-black">{weather.temp}Â°F</h3>
                            <p className="text-sm opacity-80 font-bold">{weather.condition}</p>
                        </div>
                        <div className="text-right">
                            <p className="text-[10px] font-black text-[#D4AF37] uppercase tracking-widest">Precip</p>
                            <p className="text-xl font-black">{weather.rainNext24}</p>
                        </div>
                    </div>
                    <div className="pt-4 border-t border-white/10 flex justify-between">
                        <span className="text-[10px] font-bold uppercase opacity-60">Evapotranspiration: Low</span>
                        <span className="text-[10px] font-bold uppercase text-[#D4AF37]">Mowing Recommended</span>
                    </div>
                </div>
            );

            const SoilView = () => (
                <div className="p-4 pb-24 max-w-md mx-auto">
                    <header className="mb-8">
                        <h2 className="text-2xl font-black text-[#1B3022] italic uppercase">My Lawn Profile</h2>
                        <p className="text-[10px] font-bold text-gray-400 uppercase tracking-widest">Soil & Grass Data</p>
                    </header>
                    <div className="bg-white p-6 rounded-3xl space-y-6 shadow-sm">
                        <div>
                            <label className="text-[10px] font-black text-gray-400 uppercase">Grass Variety</label>
                            <select value={lawnProfile.grassType} onChange={(e) => setLawnProfile({...lawnProfile, grassType: e.target.value})} className="w-full text-lg font-bold border-b py-2 outline-none">
                                <option>Kentucky Bluegrass</option>
                                <option>Tall Fescue</option>
                                <option>Bermuda</option>
                                <option>St. Augustine</option>
                            </select>
                        </div>
                        <div className="grid grid-cols-2 gap-4">
                            <div>
                                <label className="text-[10px] font-black text-gray-400 uppercase">Soil pH</label>
                                <input type="number" step="0.1" value={lawnProfile.ph} onChange={(e) => setLawnProfile({...lawnProfile, ph: e.target.value})} className="w-full text-lg font-bold border-b py-2 outline-none" />
                            </div>
                            <div>
                                <label className="text-[10px] font-black text-gray-400 uppercase">Sq Footage</label>
                                <input type="number" value={lawnProfile.size} onChange={(e) => setLawnProfile({...lawnProfile, size: e.target.value})} className="w-full text-lg font-bold border-b py-2 outline-none" />
                            </div>
                        </div>
                    </div>
                    <button onClick={() => setView('dashboard')} className="w-full mt-8 py-4 bg-[#1B3022] text-[#D4AF37] rounded-xl font-black uppercase">Save Profile</button>
                </div>
            );

            const Dashboard = () => (
                <div className="p-4 pb-24 max-w-md mx-auto">
                    <header className="flex justify-between items-center mb-8">
                        <div>
                            <h1 className="text-3xl font-black text-[#1B3022] tracking-tighter italic">GRASS COACH</h1>
                        </div>
                        <div className="h-10 w-10 border-2 border-[#1B3022] flex items-center justify-center font-black text-[#1B3022] text-xs">V5.5</div>
                    </header>

                    <WeatherModule />

                    <div className="grid grid-cols-2 gap-3 mb-6">
                        <div onClick={() => setView('soil')} className="coach-card p-5 cursor-pointer active:scale-95 transition-all">
                            <p className="text-[10px] font-black text-gray-400 uppercase mb-1">My Lawn</p>
                            <p className="font-black text-[#1B3022] text-sm truncate">{lawnProfile.grassType}</p>
                            <p className="text-[10px] font-bold text-[#D4AF37] uppercase">{lawnProfile.ph} pH</p>
                        </div>
                        <div onClick={() => setView('shed')} className="coach-card p-5 border-[#D4AF37] cursor-pointer active:scale-95 transition-all">
                            <p className="text-[10px] font-black text-gray-400 uppercase mb-1">Shed Status</p>
                            <p className="font-black text-[#1B3022] text-xl">{equipment.length} Tools</p>
                            <p className="text-[10px] font-bold text-green-600 uppercase">Healthy</p>
                        </div>
                    </div>

                    <button className="w-full py-5 btn-coach rounded-xl shadow-lg active:scale-95 transition-all text-sm mb-10">Add Field Entry</button>

                    <h3 className="text-[10px] font-black uppercase text-gray-400 tracking-widest mb-4 px-1">Game Tape (Recent)</h3>
                    <div className="space-y-3">
                        {activities.length === 0 ? (
                            <div className="bg-white/50 border-2 border-dashed border-gray-200 p-8 rounded-2xl text-center text-[10px] font-black text-gray-300 uppercase">No sessions logged</div>
                        ) : (
                            activities.map(a => (
                                <div key={a.id} className="bg-white p-4 rounded-xl border border-gray-100 flex justify-between font-bold text-xs">
                                    <span className="uppercase text-[#1B3022]">{a.type}</span>
                                    <span className="text-gray-400">{a.date}</span>
                                </div>
                            ))
                        )}
                    </div>
                </div>
            );

            // Placeholder for ShedView from previous turn (simplified for space)
            const ShedView = () => (
                <div className="p-4 pb-24 max-w-md mx-auto">
                    <h2 className="text-2xl font-black text-[#1B3022] italic uppercase mb-8">The Shed</h2>
                    {equipment.map(tool => (
                        <div key={tool.id} className="bg-white p-5 rounded-2xl mb-4 border border-gray-100">
                            <p className="text-[9px] font-black text-[#D4AF37] uppercase">{tool.brand}</p>
                            <h4 className="font-bold text-[#1B3022] mb-3">{tool.name}</h4>
                            <div className="progress-bar"><div className="progress-fill bg-[#1B3022]" style={{width: '40%'}}></div></div>
                        </div>
                    ))}
                    <button onClick={() => setView('dashboard')} className="w-full py-4 text-gray-400 font-bold uppercase text-[10px] tracking-widest">Back</button>
                </div>
            );

            return (
                <div className="min-h-screen">
                    {view === 'dashboard' ? <Dashboard /> : view === 'soil' ? <SoilView /> : <ShedView />}
                    <nav className="fixed bottom-0 left-0 right-0 bg-white border-t px-12 py-6 flex justify-between items-center z-40">
                        <button onClick={() => setView('dashboard')} className={`text-[10px] font-black uppercase tracking-widest ${view === 'dashboard' ? 'nav-active' : 'text-gray-300'}`}>Field</button>
                        <button onClick={() => setView('soil')} className={`text-[10px] font-black uppercase tracking-widest ${view === 'soil' ? 'nav-active' : 'text-gray-300'}`}>Lawn</button>
                        <button onClick={() => setView('shed')} className={`text-[10px] font-black uppercase tracking-widest ${view === 'shed' ? 'nav-active' : 'text-gray-300'}`}>Shed</button>
                    </nav>
                </div>
            );
        };

        ReactDOM.render(<LawnCareTracker />, document.getElementById('root'));
    </script>
</body>
</html>
